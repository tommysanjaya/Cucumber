# Cucumber
Cucumber is a Behavior-Driven Development (BDD) testing tool that uses the Gherkin language to describe software behavior in a human-readable format. Gherkin follows the Given-When-Then structure and allows collaboration between technical and non-technical stakeholders. Cucumber automates these scenarios using step definitions in programming languages, ensuring that the software aligns with specified behavior.

Tech Stack Used for this Automation Testing:
- IDE: Eclipse
- Framework: Cucumber, Selenium, TestNG
- Language: Java
- CI/CD Tools: Jenkins

## Initial Setup
1. Install Java
2. Set JAVA_HOME Path in Environment Variable
3. Install Eclipse
4. Install "Cucumber Eclipse Plugin" Extention on Eclipse (Open Help -> Eclipse Marketplace -> Search Cucumber -> Install)

## Pre-Automation
1. Create Maven Project
2. In pom.xml add "Cucumber JVM: Java" and "Cucumber JVM: TestNG" Dependencies
3. Under src/test/java create package -> features (to put all the feature you want to test)
4. Under src/test/java create package -> cucumberOptions (to put the TestNGRunner)
5. Under src/test/java create package -> stepDefinitions (to put all the step for every feature)
6. Inside cucumberOptions package, create TestNGRunner.java file
7. Inside the class add @CucumberOptions annotation, and then extends the "AbstractTestNGCucumberTests" in your main class
8. Inside features package, create .feature file that contains the Feature,Scenario,and Steps(Given,When,Then,And)
9. Inside stepDefinitions package, create .java file that contains sets of actions related to the defined Steps in .feature file

## Start your Automation
1. Inside the .feature file (for example searchProduct.feature) create a:
   - Feature (to explain what feature you want to test), for example: **Feature: Search and Buy Product**
   - Scenario (to explain what scenario you want to test), for example: **Search Experience for product search in home and offers page**
   - Given (to explain the pre-conditions), for example: **Given user is on landing page**
   - When (to explain the actions), for example: **When user is searching the products**
   - Then (to explain another actions, for example: **Then user validate the result**
2. After creating the .feature file with all the aboves detail, go back to TestNGRunner.java file and Run as TestNG
3. The script will be failed, you can see in the Terminal that Cucumber is automatically create a method template for each Given,When,Then.
4. Copy the Method template generated by Cucumber.
5. Inside stepDefinitions package, open the .java file (for example searchProductStepDefinition.java)
6. Paste the method template
7. Inside each template (Given,When,Then) Create a Selenium Java Script to start your real automation script!

## How to setup and use Jenkins (CI/CD Tools)
### How to access Jenkins
1. Download Generic Java Package (.war) from https://www.jenkins.io/download/
2. Open CMD, and go to the directory where you store the jenkins.war file
   	- For example you store it in the Downloads folder, in CMD you can type **cd Downloads**
3. Type **java -jar jenkins.war --enable-future-java** and hit enter to run the Jenkins
4. Open any browser, in the URL bar, type **http://localhost:8080/** and hit enter
5. Login in to Jenkins
### How to create a job (to run our test script)
1. On Jenkins landing page, click the + New Item
2. Enter the Job name and Select Freestyle Project, click OK
3. In the General Tab, Select Advance and Tick on the **Use Custom Workspace**
4. Type your local Project directory
	- For example:  C:\Users\your-username\eclipse-workspace\your-project-name
5. In the Build Tab, Click Add Build Step, Click Invoke top-level Maven targets
6. In the Goals section, type: **test**
7. Click Save
### How to run the job
1. Click the Newly created Job
2. Click Build Now, the Test Script should automatically run
### How to schedule the job daily
1. Open the Job
2. Click Configure
3. On Build Triggers section, Tick the Build periodically
4. On Schedule, type 0 8 * * *
	- There are 5 numbers that needs to be configured
	- The first number, it represent on what minutes the Job will run. in this case 0, so the Job will run at 00:00 minute
	- The second number, it represent on what hour the job will run. in this case 8, so the Job will run at 8AM
	- The third number, it represent on what date the job will run. in this case *, so the Job will run every day
	- The forth number, it represent on what month the job will run. in this case *, so the Job will run everymonth
  	- The fifth number, it represent on what day the job will run. in this case *, so the Job will run every day (Sunday, Monday, etc)
5. Click Save
6. So for this example, the job will automatically Run at Monday, January 1, 2024, 8:00:00 AM Western Indonesia Time; would next run at Tuesday, January 2, 2024, 8:00:00 AM Western Indonesia Time.

## Glossary
1. Cucumber: BDD Framework to enhance your automation script, for better readability especially by non tech people.
2. Selenium: Framework for Web Automation.
3. Java: Programming Languange we use to Create the Automation.
4. Eclipse: IDE where we will store all the Automation Codes + setup.
5. Maven: tool that helps Java developers easily build and manage their projects.
6. TestNG: Test Framework for Java.
7. Jenkins: CI/CD Tools, to Run the automation script on daily basis (Instead of manually opening the IDE and run the script).

## Explanation for Each Folder/Package/File
```
Project-Name
	|
	|_src/main/java
	|	|_automation.CucumberProject
	|	|	|_App.java
	|_src/test/java
	|	|_cucumberOptions
	|	|	|_FailedTestRunner.java
	|	|	|_TestNGTestRunner.java
	|	|_features
	|	|	|_Checkout.feature
	|	|	|_SearchMultipleProduct.feature
	|	|	|_SearchProduct.feature
	|	|_pageObjects
	|	|	|_CheckoutPage.java
	|	|	|_LandingPage.java
	|	|	|_OfferPage.java
	|	|	|_PageObjectManager.java
	|	|_stepDefinitions
	|	|	|_CheckoutPageSteoDefinition.java
	|	|	|_Hooks.java
	|	|	|_LandingPageStepDefinition.java
	|	|	|_OfferPageStepDefinition.java
	|	|_utils
	|	|	|_GenericUtils.java
	|	|	|_TestBase.java
	|	|	|_TestContextSetup.java
	|_src
	|	|_main
	|	|_test
	|	|	|_resources
	|	|	|	|_extent.properties
	|	|	|	|_global.properties
	|_target
	|	|_failed_scenarios.txt
	|_test-output
	|_pom.xml
```
1.	src/test/java: Folder to put all your Test Code
    - cucumberOptions: Package to put the test Runner file
         - FailedTestRunner.java : Used to Re-run the failed test cases (based on failed_scenarios.txt file)
         - TestNGTestRunner.java : Used to run the test script
    - features: Package to put all your .feature file
    - pageObjects: Package to put all page objects and method
    - stepDefinitions: Package to put all stepDefinitions file
    - utils: Package to put all test utilities
         - GenericUtils: File to put all commonly used feature
         - TestBase: File to put all the Important Setup
         - TestContextSetup: File to take care of driver from 1 page to another page (If changing page, the script didn't open another browser and will continue to existing browser)
2.	src/main/test/resource: Folder to put .properties file
      - extent.properties : to put the configuration on the generated Extent Report after the script finished running
      - global.properties : to put the configuration for browser, URL, etc
3. target/failed_scenarios.txt : File to catch the failed scenarios
4.	test-output: Folder to put all Test report
5.	Pom.xml: File to put all the Dependencies / Repositories
